## 기본 테이블 생성

```sql
CREATE TABLE "CUSTOMER" (
	"ID"	VARCHAR2(200)		NOT NULL,
	"PW"	VARCHAR2(200)		NOT NULL,
	"NAME"	VARCHAR2(200)		NOT NULL,
	"NICKNAME"	VARCHAR2(200)		NOT NULL,
	"PHONE"	VARCHAR2(200)		NULL,
	"ADDRESS"	VARCHAR2(500)		NULL,
	"EMAIL"	VARCHAR2(200)		NOT NULL
);

CREATE TABLE "STORE" (
	"ID"	VARCHAR2(200)		NOT NULL,
	"PW"	VARCHAR2(200)		NOT NULL,
	"CEO"	VARCHAR2(200)		NOT NULL,
	"PHONE"	VARCHAR2(200)		NULL,
	"EMAIL"	VARCHAR2(200)		NOT NULL
);

CREATE TABLE "REGISTRATION" (
	"STORE_ID"	VARCHAR2(200)		NOT NULL,
	"STORENAME"	VARCHAR2(200)		NOT NULL,
	"TEL"	VARCHAR2(200)		NULL,
	"ADDRESS"	VARCHAR2(500)		NOT NULL,
	"LINEINTRO"	VARCHAR2(200)		NOT NULL,
	"INTRO"	VARCHAR2(3000)		NULL,
	"IMAGE"	VARCHAR2(3000)		NULL,
	"MAIN_MENU"	VARCHAR2(200)		NOT NULL,
	"MAIN_IMAGE"	VARCHAR2(1000)		NOT NULL,
	"REGION_NAME"	VARCHAR2(200)		NOT NULL,
	"FEATURE"	VARCHAR2(1000)		NOT NULL,
	"DESSERT"	VARCHAR2(200)		NOT NULL
);

CREATE TABLE "RESERVATION" (
	"RESERVATION_NUM"	NUMBER(10)		NOT NULL,
	"CUSTOMER_ID"	VARCHAR2(200)		NOT NULL,
	"STORE_ID"	VARCHAR2(200)		NOT NULL,
	"RESERVATION_DATE"	DATE		NOT NULL,
	"RESERVATION_TIME"	VARCHAR2(200)		NOT NULL,
	"PERSON_NUM"	NUMBER(2)		NOT NULL,
	"RESERVATION_NAME"	VARCHAR2(200)		NOT NULL
);

COMMENT ON COLUMN "RESERVATION"."RESERVATION_NUM" IS '시퀀스 자동 증가';

CREATE TABLE "DDABONG" (
	"STORE_ID"	VARCHAR2(200)		NOT NULL,
	"JAN"	NUMBER(10)	DEFAULT 0	NULL,
	"FEB"	NUMBER(10)	DEFAULT 0	NULL,
	"MAR"	NUMBER(10)	DEFAULT 0	NULL,
	"APR"	NUMBER(10)	DEFAULT 0	NULL,
	"MAY"	NUMBER(10)	DEFAULT 0	NULL,
	"JUN"	NUMBER(10)	DEFAULT 0	NULL,
	"JUL"	NUMBER(10)	DEFAULT 0	NULL,
	"AUG"	NUMBER(10)	DEFAULT 0	NULL,
	"SEP"	NUMBER(10)	DEFAULT 0	NULL,
	"OCT"	NUMBER(10)	DEFAULT 0	NULL,
	"NOV"	NUMBER(10)	DEFAULT 0	NULL,
	"DCB"	NUMBER(10)	DEFAULT 0	NULL
);

CREATE TABLE "REVIEW" (
	"REVIEW_NUM"	NUMBER(10)		NOT NULL,
	"RESERVATION_NUM"	NUMBER(10)		NOT NULL,
	"CONTENT"	VARCHAR2(2000)		NULL,
	"IMAGE"	VARCHAR2(500)		NULL,
	"STAR"	NUMBER(3,1)		NOT NULL,
	"REVIEW_DATE"	DATE	DEFAULT SYSDATE	NOT NULL
);

COMMENT ON COLUMN "REVIEW"."REVIEW_NUM" IS '시퀀스로 자동 증가';

CREATE TABLE "STAR" (
	"CUSTOMER_ID"	VARCHAR2(200)		NOT NULL,
	"STORE_ID"	VARCHAR2(200)		NOT NULL
);

CREATE TABLE "QUESTION" (
	"QUESTION_NUM"	NUMBER(10)		NOT NULL,
	"USERTYPE"	VARCHAR2(100)		NOT NULL,
	"QUESTIONTYPE"	VARCHAR2(200)		NOT NULL,
	"TITLE"	VARCHAR2(2000)		NULL,
	"WRITER"	VARCHAR2(200)		NOT NULL,
	"ID"	VARCHAR2(200)		NOT NULL,
	"CONTENT"	VARCHAR2(3000)		NULL,
	"PW"	NUMBER(4)		NOT NULL,
	"QUESTION_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"GROUPS"	NUMBER(10)		NOT NULL,
	"STEP"	NUMBER(3)	DEFAULT 0	NOT NULL,
	"INDENT"	NUMBER(3)	DEFAULT 0	NOT NULL
);

COMMENT ON COLUMN "QUESTION"."QUESTION_NUM" IS '시퀀스 자동 증가';

COMMENT ON COLUMN "QUESTION"."USERTYPE" IS '손님/업체';

CREATE TABLE "WAITING" (
	"WAITING_NUM"	NUMBER(3)		NOT NULL,
	"STORE_ID"	VARCHAR2(200)		NOT NULL,
	"CUSTOMER_ID"	VARCHAR2(200)		NOT NULL,
	"NAME"	VARCHAR2(200)		NULL,
	"PHONE"	VARCHAR2(200)		NULL,
	"PERSON_NUM"	NUMBER(2)		NULL
);

ALTER TABLE "CUSTOMER" ADD CONSTRAINT "PK_CUSTOMER" PRIMARY KEY (
	"ID"
);

ALTER TABLE "STORE" ADD CONSTRAINT "PK_STORE" PRIMARY KEY (
	"ID"
);

ALTER TABLE "REGISTRATION" ADD CONSTRAINT "PK_REGISTRATION" PRIMARY KEY (
	"STORE_ID"
);

ALTER TABLE "RESERVATION" ADD CONSTRAINT "PK_RESERVATION" PRIMARY KEY (
	"RESERVATION_NUM"
);

ALTER TABLE "DDABONG" ADD CONSTRAINT "PK_DDABONG" PRIMARY KEY (
	"STORE_ID"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "PK_REVIEW" PRIMARY KEY (
	"REVIEW_NUM"
);

ALTER TABLE "QUESTION" ADD CONSTRAINT "PK_QUESTION" PRIMARY KEY (
	"QUESTION_NUM"
);

ALTER TABLE "WAITING" ADD CONSTRAINT "PK_WAITING" PRIMARY KEY (
	"WAITING_NUM",
	"STORE_ID"
);

ALTER TABLE "REGISTRATION" ADD CONSTRAINT "FK_STORE_TO_REGISTRATION_1" FOREIGN KEY (
	"STORE_ID"
)
REFERENCES "STORE" (
	"ID"
);

ALTER TABLE "DDABONG" ADD CONSTRAINT "FK_STORE_TO_DDABONG_1" FOREIGN KEY (
	"STORE_ID"
)
REFERENCES "STORE" (
	"ID"
);

ALTER TABLE "WAITING" ADD CONSTRAINT "FK_STORE_TO_WAITING_1" FOREIGN KEY (
	"STORE_ID"
)
REFERENCES "STORE" (
	"ID"
);
```

---
예약번호 seq 자동 증가

```sql
create sequence reservation_seq 
INCREMENT by 1
start with 1;
```
문의사항 번호 seq 자동 증가

```sql
create sequence question_seq
INCREMENT by 1
start with 1;
```
리뷰 번호 seq 자동 증가

```sql
CREATE SEQUENCE review_num_seq
INCREMENT BY 1
START WITH 1;
```
웨이팅 트리거 등록

```sql
CREATE OR REPLACE TRIGGER before_insert_waiting
BEFORE INSERT ON waiting
FOR EACH ROW
DECLARE
    max_waiting_num NUMBER;
BEGIN
    -- 특정 store_id에 대해 최대 대기번호를 찾습니다.
    SELECT MAX(waiting_num)
    INTO max_waiting_num
    FROM waiting
    WHERE store_id = :NEW.store_id;

    -- store_id별로 대기번호를 1부터 시작하게 설정합니다.
    IF max_waiting_num IS NULL THEN
        :NEW.waiting_num := 1;
    ELSE
        :NEW.waiting_num := max_waiting_num + 1;
    END IF;
END;
```
이벤트 테이블

```jsx
CREATE TABLE "EVENT" 
   (	"NICKNAME" VARCHAR2(200 BYTE), 
	"CONTENT" VARCHAR2(3000 BYTE)
   )
```
