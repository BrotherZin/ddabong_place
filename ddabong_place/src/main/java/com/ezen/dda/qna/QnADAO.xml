<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ezen.dda.qna.QnAService">
<insert id="questionInput" parameterType="com.ezen.dda.qna.QnADTO">
insert into question(question_num, usertype, questiontype, title, writer, id, content, pw, question_date, groups)
values(question_seq.nextval, #{userType}, #{questionType}, #{title}, #{writer}, #{id}, #{content}, #{pw}, sysdate,
question_seq.currval)
</insert>

<select id="storeQnA" resultType="com.ezen.dda.qna.QnADTO">
select * from question where usertype = '업체' order by groups desc, step asc
</select>

<select id="storeSearch" resultType="com.ezen.dda.qna.QnADTO">
select * from question where usertype = '업체' and ${param1} like '%' || #{param2} || '%'
order by groups desc, step asc
</select>

<select id="customerQnA" resultType="com.ezen.dda.qna.QnADTO">
select * from question where usertype = '손님' order by groups desc, step asc
</select>

<select id="customerSearch" resultType="com.ezen.dda.qna.QnADTO">
select * from question where usertype = '손님' and ${param1} like '%' || #{param2} || '%'
order by groups desc, step asc
</select>

<select id="questionDetail" resultType="com.ezen.dda.qna.QnADTO">
select * from question where question_num = #{param1}
</select>
</mapper>
